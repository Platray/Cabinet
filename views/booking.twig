{% extends 'base.twig' %}

{% block title %}
	<head>
		<title>Réservation de créneau horaire</title>

		<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script>
            $(document).ready(function () {
            $("#date").datepicker({
            dateFormat: 'yy-mm-dd',
            beforeShowDay: function (date) {
            var day = date.getDay();
            return [(day != 0 && day != 6), '']; // Bloquer les samedis et dimanches
            }
            });

            $("#hour").on("change", function () {
            var selectedTime = $(this).val();
            var openingTime = "09:00";
            var closingTime = "18:00";

            if (selectedTime < openingTime || selectedTime > closingTime) {
            alert("Les réservations ne sont possibles que de 09:00 à 18:00.");
            $(this).val(''); // Réinitialiser l'heure si elle est en dehors des heures d'ouverture
            }
            });
            });
	    </script>
	</head>
{% endblock %}


{% block body %}

	<!-- DEBUT TEMPLATE RESA -->

	<!-- Section: intro -->
		

		<section id="intro" class="intro"> <div class="intro-content">

			<div class="container">
				<div class="row d-flex-center">

					<div class="col-lg-6">
						<div class="form-wrapper">
							<div class="wow fadeInRight" data-wow-duration="2s" data-wow-delay="0.2s">

								<div class="panel panel-skin">
									<div class="panel-heading">
										<h3 class="panel-title">
											<span class="fa fa-pencil-square-o"></span>
											Prenez rendez-vous
										</h3>
									</div>
									<div class="panel-body">
										<form method="post" action="/booking" role="form" class="lead">
											<div class="row d-flex-center">
												<div class="col-xs-6 col-sm-6 col-md-6">
													<div class="form-group">
														<label>Prenom</label>
														<input type="text" name="firstname" id="firstname" class="form-control input-md" required>
													</div>
												</div>
												<div class="col-xs-6 col-sm-6 col-md-6">
													<div class="form-group">
														<label>Nom</label>
														<input type="text" name="lastname" id="lastname" class="form-control input-md" required>
													</div>
												</div>
											</div>
											<div class="row d-flex-center">
												<div class="col-xs-6 col-sm-6 col-md-6">
													<div class="form-group">
														<label>Email</label>
														<input type="email" name="email" id="email" class="form-control input-md" required>
													</div>
												</div>
												<div class="col-xs-6 col-sm-6 col-md-6">
													<div class="form-group">
														<label>Date de naissance :
														</label>
														<input type="date" name="birthday" id="birthday" class="form-control input-md" required>
													</div>
												</div>
											</div>
											<div class="row d-flex-center">
												<label for="date">Date réservation :</label>
												<input type="date" id="date" name="date" required>
												<label for="hour">Heure réservation :</label>
												<input type="time" id="hour" name="hour" required>
											</div>
											<div class="row d-flex-center">
												<button type="submit" class="btn btn-skin btn-lg flex-right">Réserver</button>
											</div>
											<p class="lead-footer">* On vous contactera pour valider votre rendez-vous</p>
                                            {% if error_message %}
                                            <p class="lead-footer" style="color:red"> Erreur lors de la prise de rendez vous</p>
                                            {% endif %}
										</form>


									</div>
								</div>

							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>


	<!-- FIN TEMPLATE  RESA -->
{% endblock %}
